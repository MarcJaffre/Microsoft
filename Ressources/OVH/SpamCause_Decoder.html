<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>SpamCause Decoder</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    input, button, textarea { font-size: 1em; padding: 8px; }
    #output { margin-top: 20px; font-weight: bold; color: #2a7; white-space: pre-wrap; }
    label { display: block; margin-bottom: 10px; }
    textarea { width: 100%; height: 120px; font-size: 1em; }
  </style>
</head>
<body>
  <h1>SpamCause Decoder</h1>
  <label for="input">Collez ici la chaîne à décoder : (X-VR-SPAMCAUSE) </label>
  <textarea id="input" placeholder="Collez ici la chaîne à décoder"></textarea>
  <button onclick="decode()">Décoder</button>
  <div id="output"></div>

  <script>
    function spamcause_decode(text) {
      var result = "";
      for (let n = 0; n < text.length; n += 2) {
        result += unrot(text[n], text[n + 1], Math.floor(n / 2));
      }
      return result;
    }

    function unrot(a, b, pos) {
      if (b === undefined) { return ""; }
      if (pos % 2 == 0) { var c = a; a = b; b = c; }
      var offset = ('g'.charCodeAt(0) - a.charCodeAt(0)) * 16;
      return String.fromCharCode((a.charCodeAt(0) + b.charCodeAt(0)) - 'x'.charCodeAt(0) - offset);
    }

    function decode() {
      var input = document.getElementById('input').value.trim();
      if (!input) {
        document.getElementById('output').textContent = "Veuillez entrer une chaîne à décoder.";
        return;
      }
      var output = spamcause_decode(input);
      document.getElementById('output').textContent = output || "(Rien à afficher ou chaîne non valide)";
    }
  </script>
</body>
</html>
